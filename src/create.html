<html>
  <body>
    <center id='upload'>  
    <h1>Create a Chart</h1>
    <br><br>
    <form method="POST">
      <input type='text' name="title" id="title" placeholder="Title">
      <input type='text' name="description" id="description" placeholder="Description">
      <br>
      <br>
      <p>Type your opinions below, seperated by newlines</p>
      <textarea name="opinions" cols="40" rows="40"> </textarea>
      <br id='break'>
      <input type="submit"></input>
      </form>
    </center>

  <script>
  /*
  var current = 0;
  const opinions = document.getElementById('opinions')
  document.getElementById('add_more').onclick = e => {
    current++
    const next_input = document.createElement('input')
    next_input.type = 'text'
    next_input.placeholder = 'Opinion here...'
    opinions.appendChild(document.createElement('br'))
    opinions.appendChild(next_input)
  }

  document.getElementById('submit').onclick = e => {
    const obj = {
      title: document.getElementById('title').value,
      description: document.getElementById('description').value,
      opinions: Array.from(document.getElementById("opinions").childNodes).filter(node => node.nodeName === "INPUT").map(item => item.value)
    }

    const xml = new XMLHttpRequest()
    xml.open("POST", "/create", false)
    xml.setRequestHeader("Content-Type", "application/json")
    try {
      xml.send(JSON.stringify(obj))

      document.getElementsByTagName("html")[0].innerHTML = xml.response
    } catch (e) {
      alert("There was an error uploading your request")
    }
  
  }
  */
  </script>
  </body>
</html>
